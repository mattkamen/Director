<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Matt Kamen | Director</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Rubik+Iso&display=swap" rel="stylesheet" />
<style>
  :root{--bg:#0b0b0c;--fg:#f5f5f7;--muted:#9aa0a6;--line:#1e1e22;--card:#141417;--accent:#6cf;--email:#66aaff}
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--fg);font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

  /* Header */
  header{position:relative;text-align:center;padding:48px 12px 24px}
  nav{position:absolute;top:20px;right:20px;display:flex;align-items:center}
  nav a{color:var(--fg);text-decoration:none;margin-left:20px;font-weight:600;font-size:14px;letter-spacing:.3px;opacity:.9;transition:opacity .2s ease,color .2s ease}
  nav a:hover{color:var(--accent)}
  nav a.icon{display:flex;align-items:center;justify-content:center;font-size:18px}
  h1{font-family:'Rubik Iso',cursive;font-weight:400;font-size:56px;letter-spacing:.2px;margin:0 0 8px}
  .subtitle{font-family:'Inter',sans-serif !important;color:var(--muted);font-weight:400;font-size:20px;margin:0 auto 28px;letter-spacing:.2px}
  .divider{height:1px;background:linear-gradient(90deg,transparent,var(--line),transparent);margin:0 20px 12px}

  /* Gallery */
  main{padding:20px}
  #video-gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:36px}
  @media (max-width:1100px){#video-gallery{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:640px){#video-gallery{grid-template-columns:1fr}}

  .item{position:relative;display:flex;flex-direction:column;align-items:center}
  .thumb{width:100%;aspect-ratio:16/9;background:var(--card);border:1px solid var(--line);overflow:hidden;cursor:pointer;position:relative;outline:none}
  .thumb img{width:100%;height:100%;object-fit:cover;display:block}
  .thumb .ph{position:absolute;inset:0;background:linear-gradient(135deg,#1a1a1f,#0f0f13);}

  /* Hover or always show on mobile */
  .overlay-title{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);color:var(--fg);font-family:'Inter',sans-serif;font-size:18px;font-weight:600;text-align:center;opacity:0;transition:opacity .3s ease;padding:8px;z-index:1}
  .thumb:hover .overlay-title,.thumb:focus .overlay-title,.thumb:focus-within .overlay-title{opacity:1}
  @media (hover: none){.overlay-title{opacity:1}}
  @media (max-width:640px){.overlay-title{opacity:1 !important}}

  /* Modal */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .25s ease}
  .modal.active{opacity:1;pointer-events:auto}
  .modal-content{position:relative;width:min(90vw,960px);aspect-ratio:16/9;background:#000}
  .modal iframe{width:100%;height:100%;border:0}
  .modal-close{position:absolute;top:-40px;right:0;font-size:28px;color:#fff;cursor:pointer;background:#000;border:none;border-radius:4px;padding:4px 10px}

  footer{color:var(--muted);text-align:center;font-size:13px;padding:24px;font-family:'Inter',sans-serif}
  #about-modal a{color:var(--email);} 
  #about-modal a:hover{color:var(--accent)}

  /* About modal image sizing */
  #about-photo{max-width:60%;height:auto;display:block;margin:0 auto 16px;border-radius:4px}
  @media (max-width:640px){#about-photo{max-width:100%}}
</style>
</head>
<body>
  <header>
    <nav aria-label="Primary">
      <a href="https://vimeo.com/user24877388" class="icon" target="_blank" rel="noopener" aria-label="Vimeo">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M23.977 6.217c-.104 2.262-1.68 5.367-4.73 9.316-3.154 4.086-5.82 6.129-8 6.129-1.349 0-2.491-1.244-3.435-3.732-.627-2.289-1.244-4.578-1.871-6.867-.694-2.488-1.437-3.732-2.227-3.732-.173 0-.78.364-1.828 1.091l-1.097-1.41c1.155-1.018 2.29-2.037 3.414-3.055 1.541-1.336 2.692-2.037 3.456-2.119 1.822-.173 2.947 1.091 3.372 3.792.451 2.926.78 4.743.996 5.451.554 2.489 1.155 3.732 1.8 3.732.509 0 1.273-.778 2.29-2.334 1.018-1.556 1.563-2.74 1.635-3.549.145-1.336-.392-2.001-1.635-2.001-1.155 0-2.348.262-3.581.787 2.387-7.829 6.949-11.627 13.691-11.389 4.998.145 7.142 3.401 6.445 9.767z"/></svg>
      </a>
      <a href="https://www.instagram.com/mattkman/?hl=en" class="icon" target="_blank" rel="noopener" aria-label="Instagram">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2zm0 2A3.5 3.5 0 0 0 4 7.5v9A3.5 3.5 0 0 0 7.5 20h9a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 16.5 4h-9zm9.75 1a1.25 1.25 0 1 1 0 2.5a1.25 1.25 0 0 1 0-2.5zM12 7a5 5 0 1 1 0 10a5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6a3 3 0 0 0 0-6z"/></svg>
      </a>
      <a href="#" id="about-link">About</a>
    </nav>
    <h1>Matt Kamen</h1>
    <p class="subtitle">Director &#8226; Comedy &#8226; Commercials</p>
    <div class="divider"></div>
  </header>

  <main>
    <section id="video-gallery"></section>
  </main>

  <footer>© <span id="year"></span> Matt Kamen</footer>

  <!-- Video Modal -->
  <div class="modal" id="video-modal" aria-hidden="true" role="dialog" aria-label="Video player">
    <div class="modal-content">
      <button class="modal-close" id="modal-close" aria-label="Close">×</button>
      <iframe id="modal-iframe" src="" allow="fullscreen; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>

  <!-- About Modal -->
  <div class="modal" id="about-modal" aria-hidden="true" role="dialog" aria-label="About Matt Kamen">
    <div class="modal-content" style="aspect-ratio:auto;max-width:720px;padding:24px 20px;background:var(--card);border:1px solid var(--line)">
      <button class="modal-close" id="about-close" aria-label="Close">×</button>
      <!-- Encode the plus to avoid server translating it to a space -->
      <img id="about-photo" src="Untitled-1%2Bcopy.webp" alt="Matt Kamen" />
      <p style="text-align:center;margin:10px 0 6px">I’m just here for the food.</p>
      <p style="text-align:center;margin:6px 0">For Aus or Asia enquiries, say hello at <a href="mailto:matt@kamen.com.au">matt@kamen.com.au</a></p>
      <p style="text-align:center;margin:6px 0">For USA enquiries, contact Tracy Mays at <a href="mailto:tracy@biggerpicturela.com">tracy@biggerpicturela.com</a></p>
    </div>
  </div>

<script>
  const yearEl=document.getElementById('year'); if(yearEl) yearEl.textContent=new Date().getFullYear();

  const videos=[
    {id:'1103298514'},
    {id:'1100825907'},
    {id:'1004298667'},
    {id:'953364475'},
    {id:'955053501'},
    {id:'959854166'},
    {id:'861094226'},
    {id:'861090915'},
    {id:'410786732'}
  ];

  const gallery=document.getElementById('video-gallery');

  async function fetchTitleAndThumb(id){
    try{
      const r=await fetch(`https://vimeo.com/api/v2/video/${id}.json`,{cache:'force-cache'});
      if(!r.ok) throw new Error('API failed');
      const data=await r.json();
      const d=data && data[0] ? data[0] : {};
      return {title:d.title||'Untitled', thumbnail:d.thumbnail_large||''};
    }catch(err){
      return {title:'Untitled', thumbnail:''}
    }
  }

  function upgradeVimeoThumb(url){
    // Try common Vimeo patterns and request the 1280 variant when possible
    // Examples: _295x166, _640, _960, or other WxH suffixes
    return url.replace(/_(?:\d+x\d+|640|960|1280)(?=\.(jpg|jpeg|png)\b)/i,'_1280');
  }

  async function makeItem({id}){
    const item=document.createElement('article');
    item.className='item';

    const thumb=document.createElement('div');
    thumb.className='thumb';
    thumb.setAttribute('role','button');
    thumb.setAttribute('tabindex','0');
    thumb.setAttribute('aria-label','Play video');

    const overlay=document.createElement('div');
    overlay.className='overlay-title';
    overlay.textContent='…';

    const img=document.createElement('img');
    img.alt='';
    img.loading='lazy';
    img.decoding='async';

    // Simple placeholder in case the image is slow
    const ph=document.createElement('div');
    ph.className='ph';

    const {title,thumbnail}=await fetchTitleAndThumb(id);
    overlay.textContent=title;
    if(thumbnail){
      const hi=upgradeVimeoThumb(thumbnail);
      img.src=hi;
      // Add a basic srcset for HiDPI if pattern allows - both point to 1280 so browser will pick once
      img.srcset=`${hi} 1x, ${hi} 2x`;
      ph.remove();
    }

    thumb.appendChild(ph);
    thumb.appendChild(img);
    thumb.appendChild(overlay);
    item.appendChild(thumb);

    const open=()=>openModal(id);
    thumb.addEventListener('click',open);
    thumb.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();open();}});

    return item;
  }

  async function render(list){
    gallery.innerHTML='';
    for(const v of list){
      gallery.appendChild(await makeItem(v));
    }
  }

  const modal=document.getElementById('video-modal');
  const iframeEl=document.getElementById('modal-iframe');
  const modalClose=document.getElementById('modal-close');

  function openModal(id){
    iframeEl.src=`https://player.vimeo.com/video/${id}?title=0&byline=0&portrait=0&dnt=1`;
    modal.classList.add('active');
    modal.setAttribute('aria-hidden','false');
    modalClose.focus();
  }
  function closeModal(){
    iframeEl.src='';
    modal.classList.remove('active');
    modal.setAttribute('aria-hidden','true');
  }

  modalClose.addEventListener('click',closeModal);

  const aboutModal=document.getElementById('about-modal');
  function openAbout(){aboutModal.classList.add('active');aboutModal.setAttribute('aria-hidden','false');}
  function closeAbout(){aboutModal.classList.remove('active');aboutModal.setAttribute('aria-hidden','true');}

  document.addEventListener('keydown',e=>{
    if(e.key==='Escape'){
      closeModal();
      closeAbout();
    }
  });

  document.getElementById('about-link').addEventListener('click',e=>{e.preventDefault();openAbout()});
  document.getElementById('about-close').addEventListener('click',closeAbout);

  render(videos);
</script>
</body>
</html>

